(this["webpackJsonpdagskra-app"]=this["webpackJsonpdagskra-app"]||[]).push([[0],{20:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),s=n(10),c=n.n(s),i=(n(20),n(8)),u=(n(21),n(22),n(1)),o=function(t){console.log(t.substring(5,6));var e=t.toString().substring(5,7);console.log(e);var n=t.toString().substring(8,10);switch(console.log(n),console.log(n.substring(0,0)),e.toString()){case"01":return"".concat(n,".Jan\xfaar");case"02":return"".concat(n,".Febr\xfaar");case"03":return"".concat(n,".Mars");case"04":return"".concat(n,".Apr\xedl");case"05":return"".concat(n,".Ma\xed");case"06":return"".concat(n,".J\xfan\xed");case"07":return"".concat(n,".J\xfal\xed");case"08":return"".concat(n,".\xc1g\xfast");case"09":return"".concat(n,".September");case"10":return"".concat(n,".Okt\xf3ber");case"11":return"".concat(n,".N\xf3vember");case"12":return"".concat(n,".Desember");default:return t}},l=function(t){var e=t.disabled,n=t.allDates,r=t.currentDate,a=t.onChange;return Object(u.jsx)("select",{onChange:function(t){return a(t.target.value)},value:r,disabled:e,children:n.map((function(t){return Object(u.jsx)("option",{value:t,children:o(t.toString())},t.toString())}))})};l.defaultProps={disabled:!1,channels:[],currentChannel:""};var d=l,j=n(34),h=n(33),b=(n(24),n(9)),p=n.n(b),f=n(11),g=function(t){return{isltitill:t.title,upphaf:t.startTime,thattur:t.series?t.series.episode:void 0,lysing:t.description,dagsetning:t.startTime}},v={getAvailableChannels:function(){var t=Object(f.a)(p.a.mark((function t(){var e,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.stod2.is/dagskra/api");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getDataForChannel:function(){var t=Object(f.a)(p.a.mark((function t(e){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.stod2.is/dagskra/api/"+e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getImdbData:function(){var t=Object(f.a)(p.a.mark((function t(e){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://www.omdbapi.com/?t="+e+"&y=&plot=short&r=json&apikey=c1087fa1");case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getRuvData:function(){var t=Object(f.a)(p.a.mark((function t(){var e,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://apis.is/tv/ruv");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.results.map(g));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},O=function(t){var e=t.data,n=t.title,r=t.subTitle,s=a.a.useState(!1),c=Object(i.a)(s,2),o=c[0],l=c[1],d=a.a.useState(),b=Object(i.a)(d,2),p=b[0],f=b[1];return Object(u.jsxs)("div",{className:"SchedualRow",children:[Object(u.jsx)("div",{children:e.upphaf.substring(11,16)}),Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:n}),""!==r&&Object(u.jsx)("p",{children:r})]}),Object(u.jsx)("div",{children:e.lysing.substring(0,60)+"..."}),Object(u.jsx)("div",{children:Object(u.jsx)(j.a,{onClick:function(){v.getImdbData(n).then((function(t){"True"===t.Response&&f(t)})),l(!0)},size:"sm",children:"+"})}),Object(u.jsxs)(h.a,{show:o,onHide:function(){return l(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(h.a.Header,{closeButton:!0,children:Object(u.jsx)(h.a.Title,{children:Object(u.jsx)("h1",{children:n})})}),Object(u.jsxs)(h.a.Body,{children:[""!==r&&Object(u.jsx)("p",{children:r}),Object(u.jsx)("p",{children:e.lysing}),Object(u.jsxs)("div",{className:"posterAndRatings",children:[Object(u.jsx)("div",{className:"poster",children:p&&p.Poster?Object(u.jsx)("img",{src:p.Poster,alt:"Poster"}):""}),p&&p.imdbRating?Object(u.jsxs)("div",{className:"Irating",children:[Object(u.jsx)("img",{src:"https://m.media-amazon.com/images/G/01/IMDb/BG_rectangle._CB1509060989_SY230_SX307_AL_.png",alt:"Poster"})," ",p.Ratings[0].Value]}):"",Object(u.jsx)("div",{children:p&&p.Ratings[1]?Object(u.jsxs)("div",{className:"Trating",children:[Object(u.jsx)("img",{src:"https://www.clipartkey.com/mpngs/m/48-489657_mini-tomato-icons-png-tomato-clipart-png-icon.png",alt:"Poster"})," ",p.Ratings[1].Value]}):""})]})]}),Object(u.jsx)(h.a.Footer,{})]})]},e.upphaf)},x=(n(29),function(t){var e=t.data;return e?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"SchedualContainer",children:[Object(u.jsxs)("div",{className:"SchedualRow",children:[Object(u.jsx)("div",{children:" T\xedmi "}),Object(u.jsx)("div",{children:" Nafn "}),Object(u.jsx)("div",{children:" L\xfdsing "})]}),Object(u.jsx)("div",{className:"SchedualContent",children:e.map((function(t){return Object(u.jsx)(O,{data:t,title:t.isltitill,subTitle:t.thattur?"\xde\xe1ttur "+t.thattur+(t.thattafjoldi?" af "+t.thattafjoldi:""):""},t.isltitill+t.upphaf)}))})]})}):Object(u.jsx)("div",{children:"Loading"})}),m=function(t){switch(t){case"stod2":return"St\xf6\xf0 2";case"bio":return"St\xf6\xf02 B\xedo";case"esport":return"St\xf6\xf0 2 Esports";case"golfstodin":return"St\xf6\xf0 2 Golf";case"sport":return"St\xf6\xf0 2 Sport";case"sport2":return"St\xf6\xf0 2 sport 2";case"sport3":return"St\xf6\xf0 2 Sport 3";case"sport4":return"St\xf6\xf0 2 Sport 4";case"sport5":return"St\xf6\xf0 2 Sport 5";case"stod3":return"St\xf6\xf0 2 fj\xf6lskylda";case"ruv":return"R\xfav";default:return t}},S=function(t){var e=t.channels,n=t.currentChannel,r=t.onChange;return Object(u.jsx)("select",{id:"dropdown-basic-button",title:m(n),size:"sm",onChange:function(t){return r(t.target.value)},value:n,children:e.map((function(t){return Object(u.jsx)("option",{value:t,children:m(t)},t)}))})};S.defaultProps={channels:[],currentChannel:""};var w=S,C=function(){for(var t=[],e=new Date,n=0;n<7;n++)t.push(e.toISOString().substring(0,10)),e.setDate(e.getDate()+1);return t},D=function(t,e){return t.filter((function(t){return t.dagsetning.includes(e)}))};var k=function(){var t=a.a.useState(),e=Object(i.a)(t,2),n=e[0],s=e[1],c=a.a.useState(),o=Object(i.a)(c,2),l=o[0],j=o[1],h=a.a.useState(C()),b=Object(i.a)(h,1)[0],p=a.a.useState(b[0]),f=Object(i.a)(p,2),g=f[0],O=f[1],m=a.a.useState(),S=Object(i.a)(m,2),k=S[0],y=S[1],N=a.a.useState(),R=Object(i.a)(N,2),T=R[0],P=R[1];return Object(r.useEffect)((function(){v.getAvailableChannels().then((function(t){console.log(t);var e=t.filter((function(t){return"beint"!==t}));e.push("ruv"),s(e),t.includes("stod2")?j("stod2"):j(t[0])}))}),[]),Object(r.useEffect)((function(){l&&(y(null),"ruv"===l?v.getRuvData().then((function(t){y(t)})):v.getDataForChannel(l).then((function(t){y(t)})))}),[l]),Object(r.useEffect)((function(){k&&P(D(k,g))}),[k,g]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("h1",{children:"Dagsk\xe1"})}),Object(u.jsxs)("div",{className:"Controlers",children:[Object(u.jsx)(w,{channels:n,currentChannel:l,onChange:function(t){return j(t)}}),Object(u.jsx)(d,{allDates:b,currentDate:g,onChange:function(t){return O(t)},disabled:"ruv"===l})]}),Object(u.jsx)(x,{data:T})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),s(t),c(t)}))};c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),y()}},[[30,1,2]]]);
//# sourceMappingURL=main.65531fd1.chunk.js.map